<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Usage &#8212; edgefinder 0.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=d45e8c67"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Functions" href="edgefinder.html" />
    <link rel="prev" title="edgefinder documentation" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Link to this heading">¶</a></h1>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading">¶</a></h2>
<p>Currently, to install the package, the github repository must to be cloned. To do this:</p>
<ul class="simple">
<li><p>Open a terminal and navigate to the directory you wish to install the package in. It is recommended that this be a new directory with a clean virtual environment.</p></li>
<li><p>Copy the following commands into your terminal, this will clone the repository.</p></li>
</ul>
<div class="highlight-linux notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/mcnichon/edgefinder.git
</pre></div>
</div>
<p><strong>NOTE:</strong> More detailed instructions pertaining to cloning github repositories can be found <a class="reference external" href="https://docs.github.com/en/repositories/creating-and-managing-repositories/cloning-a-repository">here</a></p>
<ul class="simple">
<li><p>Navigate to the repository’s directory, which should contain a <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> file.</p></li>
<li><p>From this repository copy the following code into your terminal to install the package and all dependencies:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">.</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Verify that the package and dependencies have been installed with:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="nb">list</span>
</pre></div>
</div>
<p>To utilize the code within a python workspace, one must add the following to their code. The package alias can be whatever the user wants, here <code class="docutils literal notranslate"><span class="pre">ef</span></code> is used.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">edgefinder.edgefinder</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ef</span>
</pre></div>
</div>
<p>Currently there exists no support to install the package with PyPi.</p>
</section>
<section id="example-problems">
<h2>Example Problems<a class="headerlink" href="#example-problems" title="Link to this heading">¶</a></h2>
<p>Two example problems are provided in the repository <code class="docutils literal notranslate"><span class="pre">Example_Single_Image.py</span></code> and <code class="docutils literal notranslate"><span class="pre">Example_Multiple_Images.py</span></code>, located in the Examples directory. The first example analyzes a single image utilizing all package functions except <code class="docutils literal notranslate"><span class="pre">ef_full_analysis</span></code>. A snippet pertaining to the <code class="docutils literal notranslate"><span class="pre">edgefinder</span></code> functionality is provided below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">image_test</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Example_Images/Example_Image_2.png&quot;</span><span class="p">)</span>

<span class="c1">#Functions from package</span>
<span class="n">image_crop</span><span class="o">=</span> <span class="n">ef</span><span class="o">.</span><span class="n">ef_crop</span><span class="p">(</span><span class="n">image_test</span><span class="p">)</span>
<span class="n">image_subpixel</span> <span class="o">=</span> <span class="n">ef</span><span class="o">.</span><span class="n">ef_subpixel</span><span class="p">(</span><span class="n">image_crop</span><span class="p">)</span>
<span class="n">image_baseline</span><span class="p">,</span> <span class="n">image_baseline_coe</span> <span class="o">=</span> <span class="n">ef</span><span class="o">.</span><span class="n">ef_baseline</span><span class="p">(</span><span class="n">image_subpixel</span><span class="p">)</span>
<span class="n">image_edge_l</span><span class="p">,</span> <span class="n">image_edge_r</span> <span class="o">=</span> <span class="n">ef</span><span class="o">.</span><span class="n">ef_drop_edge</span><span class="p">(</span><span class="n">image_subpixel</span><span class="p">,</span> <span class="n">image_baseline</span><span class="p">)</span>
<span class="n">image_tan_l</span><span class="p">,</span> <span class="n">image_tan_r</span><span class="p">,</span> <span class="n">intersection_l</span><span class="p">,</span> <span class="n">intersection_r</span><span class="p">,</span> <span class="n">image_angle</span> <span class="o">=</span> <span class="n">ef</span><span class="o">.</span><span class="n">ef_angle_tan</span><span class="p">(</span><span class="n">image_subpixel</span><span class="p">,</span> <span class="n">image_edge_l</span><span class="p">,</span> <span class="n">image_edge_r</span><span class="p">,</span> <span class="n">image_baseline_coe</span><span class="p">)</span>
</pre></div>
</div>
<p>First, an image needs to be opened utilizing the <code class="docutils literal notranslate"><span class="pre">Pillow</span> <span class="pre">Image</span></code> class, which is done with the first line of code provided in the snippet.</p>
<p>The remaining code contains <code class="docutils literal notranslate"><span class="pre">edgefinder</span></code> specific functions whos functionality will be explored.</p>
<p><code class="docutils literal notranslate"><span class="pre">ef.ef_crop</span></code> converts the image to greyscale and then an <code class="docutils literal notranslate"><span class="pre">np.array</span></code> that contains the pixel light intensity values (0-255, with 0 and 255 being black and white respectively). Within this array, the ‘illuminated region,’ defined by the <code class="docutils literal notranslate"><span class="pre">threshold_light</span></code> variable, with a default value of 200, is found. The minimum and maximum xy locations combined with the <code class="docutils literal notranslate"><span class="pre">offset</span></code> variable are then used to define the region where the image will be cropped. <code class="docutils literal notranslate"><span class="pre">Offset</span></code> defines a number of pixels in the conservative (making image larger) direction to subtract/add to the min/maximum pixel locations.</p>
<a class="reference internal image-reference" href="_images/crop.png"><img alt="_images/crop.png" src="_images/crop.png" style="width: 600px;" />
</a>
<p><code class="docutils literal notranslate"><span class="pre">ef.ef_subpixel</span></code> linearly interpolates between all points in the image matrix, artificially increasing its resolution.</p>
<p><code class="docutils literal notranslate"><span class="pre">ef.ef_baseline</span></code> finds the baseline of the sample stage (red). It does this by iterating through each row of the pixel array until it the pixel value reaches the <code class="docutils literal notranslate"><span class="pre">threshold_dark</span></code> value, with one y location per column being recorded (green). A linear interpolation is applied to a specified number of xy locations taken from this array (blue), specified by <code class="docutils literal notranslate"><span class="pre">bl_fit</span></code> and <code class="docutils literal notranslate"><span class="pre">bl_ignore</span></code>. These pixels start at the column corresponding to the edge of the ‘illuminated’ region as described above.</p>
<a class="reference internal image-reference" href="_images/Baseline.png"><img alt="_images/Baseline.png" src="_images/Baseline.png" style="width: 600px;" />
</a>
<p><code class="docutils literal notranslate"><span class="pre">ef.ef_edge</span></code> finds the left and right edge of the droplet, as defined by the <code class="docutils literal notranslate"><span class="pre">threshold_dark</span></code> value. This analysis starts <code class="docutils literal notranslate"><span class="pre">bl_offset</span></code> pixels above the baseline at the ‘middle’ of the drop, approximated by the middle of the green line from <code class="docutils literal notranslate"><span class="pre">ef.ef_baseline</span></code>. This point is denoted by the blue dot in the image below. From this point, left and right pixel intensity values will be evaluated until passing the <code class="docutils literal notranslate"><span class="pre">threshold_dark</span></code> value, after which, the process will repeat in the row above. If the pixel in the row above the midpoint is greater than the threshold, we know we have reached the top of the droplet. To account for angled baselines, a similar process is taken starting at the above found edge, not the center. On both the left and right side, pixels will be evaluated until passing below the baesline. This can be seen in the expanded view in the picture below, where the edge of the drop (green) stops at the baseline (red).</p>
<p><strong>NOTE:</strong> Expanded views are flipped due to the differences in origin locations of plots and images. Images are displayed with the (0,0) at the upper left.</p>
<a class="reference internal image-reference" href="_images/Edge.png"><img alt="_images/Edge.png" src="_images/Edge.png" style="width: 600px;" />
</a>
<p><code class="docutils literal notranslate"><span class="pre">ef.ef_tan</span></code> finds the tangent line next of the droplet where it touches the baseplate. Similar to the baseline, the points used for this linear interpolation are defined by the <code class="docutils literal notranslate"><span class="pre">tan_fit</span></code> and <code class="docutils literal notranslate"><span class="pre">tan_ignore</span></code> variables and taken from the <code class="docutils literal notranslate"><span class="pre">ef.ef_edge</span></code> ‘edge location’ matrix. In addition, matrix math between the tangent line and baseline is performed to calculate the contact angle of the drop.</p>
<p>An annotated example of the results from these functions is provided below.</p>
<a class="reference internal image-reference" href="_images/fullanalysis.png"><img alt="_images/fullanalysis.png" src="_images/fullanalysis.png" style="width: 800px;" />
</a>
<p>All functions have default values pertaining to fitting parameters and can be finetuned by the user. The default values provided produce good results on the example images.</p>
<p>The second example, <code class="docutils literal notranslate"><span class="pre">Example_Multiple_Images.py</span></code> shows how thispackage  might be applied to folders with more than one image.</p>
<p>Within these two examples, the function <code class="docutils literal notranslate"><span class="pre">ef.ef_full_analysis</span></code> is not used. This function is intended to simplify the entire process, combining all previously described functions into one, outputting only an angle. Thus, if one wishes to plot any of the results other than angle, the above process should be taken.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">edgefinder</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example-problems">Example Problems</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="edgefinder.html">Functions</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">edgefinder documentation</a></li>
      <li>Next: <a href="edgefinder.html" title="next chapter">Functions</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, Nathaniel McNichols.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/Installation.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>